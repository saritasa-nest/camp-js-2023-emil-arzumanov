"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[523],{8523:(H,_,a)=>{a.r(_),a.d(_,{AuthModule:()=>k});var f=a(89),m=a(6789),l=a(1300),n=a(6652),s=a(2369),c=a(2074),g=a(2151),p=a(3232),T=a(8569),t=a(4355);let h=(()=>{class o{constructor(){this.auth=(0,t.f3M)(p.e),this.router=(0,t.f3M)(m.F0)}canActivate(){return!this.auth.isLoggedIn()||(this.router.navigate(["/home/profile"]),!1)}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Z=a(9676),d=a(4202);function w(o,e){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Password is required "),t.qZA())}function F(o,e){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const r=e.$implicit;t.xp6(1),t.hij(" ",r," ")}}function x(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"mat-form-field",1)(1,"mat-label"),t._uU(2,"Password"),t.qZA(),t._UZ(3,"input",2),t.YNc(4,w,2,0,"mat-error",3),t.YNc(5,F,2,1,"mat-error",4),t.TgZ(6,"button",5),t.NdJ("click",function(){t.CHM(r);const u=t.oxw();return t.KtG(u.hidePassword=!u.hidePassword)}),t.TgZ(7,"mat-icon"),t._uU(8),t.qZA()()()}if(2&o){const r=e.ngIf,i=t.oxw();t.xp6(3),t.Q6J("formControl",r)("type",i.hidePassword?"password":"text"),t.xp6(1),t.Q6J("ngIf",r.hasError("required")),t.xp6(1),t.Q6J("ngForOf",i.getFieldErrors(r)),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",i.hidePassword),t.xp6(2),t.Oqu(i.hidePassword?"visibility_off":"visibility")}}let C=(()=>{class o{constructor(){this.hidePassword=!0,this.getFieldErrors=d.b_,this.passwordControl=new n.NI}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["camp-password-field"]],inputs:{passwordControl:"passwordControl"},decls:1,vars:1,consts:[["class","form__field",4,"ngIf"],[1,"form__field"],["matInput","",3,"formControl","type"],[4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","mat-icon-button","","matSuffix","",3,"click"]],template:function(r,i){1&r&&t.YNc(0,x,9,7,"mat-form-field",0),2&r&&t.Q6J("ngIf",i.passwordControl)},dependencies:[f.sg,f.O5,l.RK,n.Fj,n.JJ,n.oH,c.Nt,s.KE,s.hX,s.TO,s.R9,g.Hw],styles:[".form__field[_ngcontent-%COMP%]{display:grid}"]}),o})();function v(o,e){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Email is required "),t.qZA())}function y(o,e){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const r=e.$implicit;t.xp6(1),t.hij(" ",r," ")}}function A(o,e){if(1&o&&(t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2,"Email:"),t.qZA(),t._UZ(3,"input",7),t.YNc(4,v,2,0,"mat-error",1),t.YNc(5,y,2,1,"mat-error",8),t.qZA()),2&o){const r=e.ngIf,i=t.oxw();t.xp6(3),t.Q6J("formControl",r),t.xp6(1),t.Q6J("ngIf",r.hasError("required")),t.xp6(1),t.Q6J("ngForOf",i.getFieldErrors(r))}}let b=(()=>{class o{constructor(){this.hidePasswordRetype=!0,this.authService=(0,t.f3M)(p.e),this.router=(0,t.f3M)(m.F0),this.formBuilder=(0,t.f3M)(n.j3),this.loginForm=this.formBuilder.group({email:["",n.kI.required],password:["",n.kI.required]},{updateOn:"submit"}),this.getFieldErrors=d.b_}onSubmit(){if(this.loginForm.invalid)return;const r=this.loginForm.getRawValue();this.authService.login(r).pipe((0,Z.P)(),(0,d.Yc)(this.loginForm)).subscribe(()=>{this.router.navigate(["/home/profile"])})}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["camp-login"]],decls:10,vars:3,consts:[[1,"form",3,"formGroup","ngSubmit"],[4,"ngIf"],[3,"passwordControl"],["mat-flat-button","","color","primary","type","submit"],[1,"navigation"],["routerLink","/home/registration","mat-raised-button",""],["routerLink","/anime","mat-raised-button",""],["matInput","",3,"formControl"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.YNc(1,A,6,3,"mat-form-field",1),t._UZ(2,"camp-password-field",2),t.TgZ(3,"button",3),t._uU(4,"Sign in"),t.qZA()(),t.TgZ(5,"nav",4)(6,"a",5),t._uU(7,"Sign up"),t.qZA(),t.TgZ(8,"a",6),t._uU(9,"Anime"),t.qZA()()),2&r&&(t.Q6J("formGroup",i.loginForm),t.xp6(1),t.Q6J("ngIf",i.loginForm.controls.email),t.xp6(1),t.Q6J("passwordControl",i.loginForm.controls.password))},dependencies:[f.sg,f.O5,m.rH,l.zs,l.lW,n._Y,n.Fj,n.JJ,n.JL,n.oH,n.sg,c.Nt,s.KE,s.hX,s.TO,C],styles:[".form[_ngcontent-%COMP%]{display:grid;padding:30px}.navigation[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:30px;padding:0 30px}"]}),o})();function J(o,e){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Email is required "),t.qZA())}function I(o,e){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const r=e.$implicit;t.xp6(1),t.hij(" ",r," ")}}function q(o,e){if(1&o&&(t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2,"Email:"),t.qZA(),t._UZ(3,"input",7),t.YNc(4,J,2,0,"mat-error",1),t.YNc(5,I,2,1,"mat-error",8),t.qZA()),2&o){const r=e.ngIf,i=t.oxw();t.xp6(3),t.Q6J("formControl",r),t.xp6(1),t.Q6J("ngIf",r.hasError("required")),t.xp6(1),t.Q6J("ngForOf",i.getFieldErrors(r))}}function U(o,e){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," First name is required "),t.qZA())}function R(o,e){if(1&o&&(t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2,"First name:"),t.qZA(),t._UZ(3,"input",9),t.YNc(4,U,2,0,"mat-error",1),t.qZA()),2&o){const r=e.ngIf;t.xp6(3),t.Q6J("formControl",r),t.xp6(1),t.Q6J("ngIf",r.hasError("required"))}}function N(o,e){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Last name is required "),t.qZA())}function M(o,e){if(1&o&&(t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2,"Last name:"),t.qZA(),t._UZ(3,"input",9),t.YNc(4,N,2,0,"mat-error",1),t.qZA()),2&o){const r=e.ngIf;t.xp6(3),t.Q6J("formControl",r),t.xp6(1),t.Q6J("ngIf",r.hasError("required"))}}function Q(o,e){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Repeat password "),t.qZA())}function S(o,e){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Passwords do not match "),t.qZA())}function E(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2,"Repeat Password"),t.qZA(),t._UZ(3,"input",10),t.YNc(4,Q,2,0,"mat-error",1),t.YNc(5,S,2,0,"mat-error",1),t.TgZ(6,"button",11),t.NdJ("click",function(){t.CHM(r);const u=t.oxw();return t.KtG(u.hidePasswordRetype=!u.hidePasswordRetype)}),t.TgZ(7,"mat-icon"),t._uU(8),t.qZA()()()}if(2&o){const r=e.ngIf,i=t.oxw();t.xp6(3),t.Q6J("formControl",r)("type",i.hidePasswordRetype?"password":"text"),t.xp6(1),t.Q6J("ngIf",r.hasError("required")),t.xp6(1),t.Q6J("ngIf",r.hasError("matching")),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",i.hidePasswordRetype),t.xp6(2),t.Oqu(i.hidePasswordRetype?"visibility_off":"visibility")}}let L=(()=>{class o{constructor(){this.hidePasswordRetype=!0,this.authService=(0,t.f3M)(p.e),this.router=(0,t.f3M)(m.F0),this.formBuilder=(0,t.f3M)(n.j3),this.registrationForm=this.formBuilder.group({email:["",n.kI.required],firstName:["",n.kI.required],lastName:["",n.kI.required],password:["",n.kI.required],confirmPassword:["",[n.kI.required,o=>o.value===o.parent?.get("password")?.value?null:{matching:!0}]]},{updateOn:"submit"}),this.getFieldErrors=d.b_}onSubmit(){if(this.registrationForm.invalid)return;const r=this.registrationForm.getRawValue();this.authService.register(r).pipe((0,Z.P)(),(0,d.Yc)(this.registrationForm)).subscribe(()=>{this.router.navigate(["/home/profile"])})}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["camp-registration"]],decls:13,vars:6,consts:[[1,"form",3,"formGroup","ngSubmit"],[4,"ngIf"],[3,"passwordControl"],["mat-flat-button","","color","primary","type","submit"],[1,"navigation"],["routerLink","/home/login","mat-raised-button",""],["routerLink","/anime","mat-raised-button",""],["matInput","","formControlName","email",3,"formControl"],[4,"ngFor","ngForOf"],["matInput","",3,"formControl"],["matInput","",3,"formControl","type"],["type","button","mat-icon-button","","matSuffix","",3,"click"]],template:function(r,i){1&r&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.YNc(1,q,6,3,"mat-form-field",1),t.YNc(2,R,5,2,"mat-form-field",1),t.YNc(3,M,5,2,"mat-form-field",1),t._UZ(4,"camp-password-field",2),t.YNc(5,E,9,7,"mat-form-field",1),t.TgZ(6,"button",3),t._uU(7,"Sign up"),t.qZA()(),t.TgZ(8,"nav",4)(9,"a",5),t._uU(10,"Sign in"),t.qZA(),t.TgZ(11,"a",6),t._uU(12,"Anime"),t.qZA()()),2&r&&(t.Q6J("formGroup",i.registrationForm),t.xp6(1),t.Q6J("ngIf",i.registrationForm.controls.email),t.xp6(1),t.Q6J("ngIf",i.registrationForm.controls.firstName),t.xp6(1),t.Q6J("ngIf",i.registrationForm.controls.lastName),t.xp6(1),t.Q6J("passwordControl",i.registrationForm.controls.password),t.xp6(1),t.Q6J("ngIf",i.registrationForm.controls.confirmPassword))},dependencies:[f.sg,f.O5,m.rH,l.zs,l.lW,l.RK,n._Y,n.Fj,n.JJ,n.JL,n.oH,n.sg,n.u,c.Nt,s.KE,s.hX,s.TO,s.R9,g.Hw,C],styles:[".form[_ngcontent-%COMP%]{display:grid;padding:30px}.navigation[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:30px;padding:0 30px}"]}),o})();const O=[{path:"profile",component:(()=>{class o{constructor(){this.authService=(0,t.f3M)(p.e),this.router=(0,t.f3M)(m.F0)}logout(){this.authService.logout(),this.router.navigate(["/anime/table"])}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["camp-profile"]],decls:7,vars:0,consts:[[1,"profile"],["type","button","mat-raised-button","","color","primary",3,"click"],["routerLink","/anime","mat-raised-button",""]],template:function(r,i){1&r&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Welcome to your profile!"),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return i.logout()}),t._uU(4,"Log out"),t.qZA(),t.TgZ(5,"a",2),t._uU(6,"Table"),t.qZA()())},dependencies:[m.rH,l.zs,l.lW],styles:[".profile[_ngcontent-%COMP%]{display:grid;grid-row-gap:30px;text-align:center}"]}),o})(),canActivate:[T.a]},{path:"login",component:b,canActivate:[h]},{path:"registration",component:L,canActivate:[h]},{path:"",redirectTo:"profile",pathMatch:"full"}];let Y=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.Bz.forChild(O),m.Bz]}),o})(),k=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[p.e],imports:[f.ez,Y,m.Bz,l.ot,n.u5,n.UX,c.c,s.lN,g.Ps]}),o})()}}]);